; Структура, описывающая сегмент состояния задачи.
struct tss_entry
{
  .prev_tss dd ? ; 
  .esp0     dd ? ; Предыдущий TSS - если бы мы использовали аппаратное переключение задач, это сформировало бы связанный список.
  .ss0      dd ? ; Сегмент стека для загрузки при переходе в режим ядра.
  .esp1     dd ? ; Неиспользуется...
  .ss1      dd ? ;
  .esp2     dd ? ;
  .ss2      dd ? ;
  .cr3      dd ? ;
  .eip      dd ? ;
  .eflags   dd ? ;
  .eax      dd ? ;
  .ecx      dd ? ;
  .edx      dd ? ;
  .ebx      dd ? ;
  .esp      dd ? ;
  .ebp      dd ? ;
  .esi      dd ? ;
  .edi      dd ? ;
  .es       dd ? ; Значение для загрузки в ES при переходе в режим ядра.
  .cs       dd ? ; Значение для загрузки в CS при переходе в режим ядра.
  .ss       dd ? ; Значение для загрузки в SS при переходе в режим ядра.
  .ds       dd ? ; Значение для загрузки в DS при переходе в режим ядра.
  .fs       dd ? ; Значение для загрузки в FS при переходе в режим ядра.
  .gs       dd ? ; Значение для загрузки в GS при переходе в режим ядра.
  .ldt      dd ? ; Неиспользуется...
  .trapc    dd ? ;
  .iomap    dw ? ;
}

; TSS - Task State Segment
struct tss
{
  .iomap dd ? ; 0..15 - резерв, 16..31. Карта разрешения ввода-вывода. 
  .ldt   dd ? ; 0..15, 16..31 - резерв. Локальная таблица дескрипторов
  .gs    dd ? ; 0..15, 16..31 - резерв
  .fs    dd ? ; 0..15, 16..31 - резерв
  .ds    dd ? ; 0..15, 16..31 - резерв
  .ss    dd ? ; 0..15, 16..31 - резерв
  .cs    dd ? ; 0..15, 16..31 - резерв
  .es    dd ? ; 0..15, 16..31 - резерв
  .edi   dd ? ; 
  .esi   dd ? ; 
  .ebp   dd ? ; 
  .esp   dd ? ; Стек третьего уровня привилегий
  .ebx   dd ? ; 
  .edx   dd ? ; 
  .ecx   dd ? ; 
  .eax   dd ? ; 
  .flags dd ? ; 
  .eip   dd ? ; 
  .cr3   dd ? ; Каталог таблиц страниц
  .ss2   dd ? ; 0..15, 16..31 - резерв
  .esp2  dd ? ; Стек второго уровня привилегий
  .ss1   dd ? ; 0..15, 16..31 - резерв
  .esp1  dd ? ; Стек первого уровня привилегий
  .ss0   dd ? ; 0..15, 16..31 - резерв
  .esp0  dd ? ; Стек нулевого уровня привилегий
  .ptl   dd ? ; 0..15, 16..31 - резерв. Previous Task Link - ссылка на предыдущую задачу
}


